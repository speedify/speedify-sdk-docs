<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Speedify SDK for Desktop/Embedded: DSCP Queue Configuration</title>
<link rel="icon" href="speedify.webp" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="overrides.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="speedify.webp"/></td>
  <td id="projectalign">
   <div id="projectname">Speedify SDK for Desktop/Embedded<span id="projectnumber">&#160;15.9.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">DSCP Queue Configuration</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>As of version 15.0, Speedify SDK supports configuring how traffic with different DSCP tags should be handled. Each queue, allows configuring:</p>
<ul>
<li>DSCP value<ul>
<li>Any packets coming into the VPN tagged with this DSCP value will be treated with the following parameters</li>
<li>Return packets from the Internet for the same flow will be tagged with the same DSCP value and treated the same as outgoing packets, even if the incoming packets are not tagged</li>
</ul>
</li>
<li>Priority<ul>
<li>Controls whether traffic is treated as high priority by the VPN. High priority traffic is delivered ahead of other non-priority traffic</li>
<li><code>on</code> sets the traffic as high priority</li>
<li><code>off</code> sets the traffic as normal priority</li>
<li><code>auto</code> (default) applies streaming detection to the traffic to determine whether it is high priority or not</li>
</ul>
</li>
<li>Replication / Redundancy<ul>
<li>Controls whether traffic will be sent redundantly / replicated across multiple connections simultaneously</li>
<li><code>on</code> always replicates the traffic</li>
<li><code>off</code> never replicates the traffic</li>
<li><code>auto</code> (default) uses the automatic streaming mode to dynamically choose between sending with or without replication based on connection performance</li>
</ul>
</li>
<li>Retransmission Attempts<ul>
<li>Controls the maximum number of attempts to retransmit lost packets from this flow</li>
<li>Low priority traffic can be set to 0 retransmission attempts to not allow any attempts at retransmitting</li>
<li>By default Speedify attempts to retransmit lost packets 2 times</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md0"></a>
CLI Configuration</h2>
<p>DSCP queues can be configured with the Speedify CLI using the <code>speedify_cli dscp queues</code> command. To show currently configured queues, run <code>speedify_cli show dscp</code>.</p>
<h3><a class="anchor" id="autotoc_md1"></a>
Adding Queues</h3>
<p><code>speedify_cli dscp queues add [&lt;dscp value 0-63&gt; [priority] &lt;on|off|auto&gt; [replication] &lt;on|off|auto&gt; [retransmissions] &lt;0-255&gt;] ...</code> <code>speedify_cli dscp queues set [&lt;dscp value 0-63&gt; [priority] &lt;on|off|auto&gt; [replication] &lt;on|off|auto&gt; [retransmissions] &lt;0-255&gt;] ...</code></p>
<p><code>add</code> appends the queue(s) to the existing list of configured queues. <code>set</code> removes any existing queues and only applies the specified queue(s).</p>
<p>The setting names <code>priority</code>, <code>replication</code>, <code>retransmissions</code> can optionally be provided in the command. For example, the following two commands are equivalent:</p>
<p><code>speedify_cli dscp queues add 10 priority on replication on retransmissions 5</code> <code>speedify_cli dscp queues add 10 on on 5</code></p>
<p>Each command supports defining multiple queues at once. For example, <code>speedify_cli dscp queues add 10 priority on replication on retransmissions 5 20 priority off retransmissions off 0</code></p>
<h3><a class="anchor" id="autotoc_md2"></a>
Removing Queues</h3>
<p><code>speedify_cli dscp queues rem [dscp value 0-63] ...</code></p>
<p>Takes a list of DSCP values to remove. For example, if queues were previously defined for DSCP values 10 and 20, they could be removed with the command:</p>
<p><code>speedify_cli dscp queues rem 10 20</code></p>
<h2><a class="anchor" id="autotoc_md3"></a>
Statistics</h2>
<p>Statistics about DSCP traffic are reported with <code>session_stats</code> under the <code>dscp</code> section.</p>
<p>To see stats, run <code>speedify_cli stats &lt;duration&gt;</code>.</p>
<p><code>bytesReceived</code> and <code>bytesSent</code> are bytes sent and received with this DSCP tag from the application perspective. Traffic entering and exiting the VPN. Similarly, <code>receiveBps</code> and <code>sendBps</code> refer to the currently utilization in bits per second of traffic with this DSCP tag entering and exiting the VPN.</p>
<p>The transport statistics reflect the same counts and utilization over the VPN transport connections. These include counts of redundant traffic and packet retransmissions, so the transport stats might be higher than the application level stats.</p>
<div class="fragment"><div class="line">&quot;dscp&quot; : </div>
<div class="line">[</div>
<div class="line">    {</div>
<div class="line">        &quot;bytesReceived&quot; : 1512,</div>
<div class="line">        &quot;bytesSent&quot; : 1193,</div>
<div class="line">        &quot;dscp&quot; : 10,</div>
<div class="line">        &quot;receiveBps&quot; : 0.0,</div>
<div class="line">        &quot;sendBps&quot; : 0.0,</div>
<div class="line">        &quot;transportBytesReceived&quot; : 1512,</div>
<div class="line">        &quot;transportBytesSent&quot; : 1193,</div>
<div class="line">        &quot;transportReceiveBps&quot; : 0.0,</div>
<div class="line">        &quot;transportSendBps&quot; : 0.0</div>
<div class="line">    }</div>
<div class="line">],</div>
</div><!-- fragment --><p>*/ </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
